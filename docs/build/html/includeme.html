

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Overview &mdash; MARTINI 1.1 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/graphviz.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Martini (martini.Martini)" href="martini.html" />
    <link rel="prev" title="Indices and tables" href="index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> MARTINI
          

          
          </a>

          
            
            
              <div class="version">
                1.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="#installation-notes">Installation Notes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#installing-from-github">Installing from github</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="martini.html">Martini (martini.Martini)</a></li>
<li class="toctree-l1"><a class="reference internal" href="datacube.html">Data Cube (martini.DataCube)</a></li>
<li class="toctree-l1"><a class="reference internal" href="source.html">Sources (martini.sources)</a></li>
<li class="toctree-l1"><a class="reference internal" href="beam.html">Beam Models (martini.beams)</a></li>
<li class="toctree-l1"><a class="reference internal" href="noise.html">Noise Models (martini.noise)</a></li>
<li class="toctree-l1"><a class="reference internal" href="spectral_model.html">Spectral Models (martini.spectral_models)</a></li>
<li class="toctree-l1"><a class="reference internal" href="sph_kernel.html">SPH Kernels (martini.sph_kernels)</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">MARTINI</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Overview</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/includeme.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <img alt="_images/martini_banner.png" src="_images/martini_banner.png" />
<div class="section" id="overview">
<h1>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h1>
<p>MARTINI is a modular package for the creation of synthetic resolved HI line observations (data cubes) of smoothed-particle hydrodynamics simulations of galaxies. The various aspects of the mock-observing process are divided logically into sub-modules handling the data cube, source, beam, noise, spectral model and SPH kernel. MARTINI is object-oriented: each sub-module provides a class (or classes) which can be configured as desired. For most sub-modules, base classes are provided to allow for straightforward customization. Instances of each sub-module class are then given as parameters to the Martini class. A mock observation is then constructed by calling a handful of functions to execute the desired steps in the mock-observing process.</p>
<p>The package is functional and (an old version) has been used in this <a class="reference external" href="https://ui.adsabs.harvard.edu/#abs/2019MNRAS.482..821O/abstract">paper</a>. Stable releases are available via PyPI (<code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">astromartini</span></code>) and the numbered branches on github. The github master branch is under active development: things will change, bugs will happen. Any feedback is greatly appreciated.</p>
<p>MARTINI does not support use with python2.</p>
<p>See the help for <a class="reference external" href="https://kyleaoman.github.io/martini/build/html/martini.html">martini.Martini</a> for an example script to configure MARTINI and create a datacube. This example can be run by doing:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="o">-</span><span class="n">c</span> <span class="s2">&quot;from martini import demo; demo()&quot;</span>
</pre></div>
</div>
<p>Martini has (so far) been successfully run on the output of these simulations:</p>
<ul class="simple">
<li>EAGLE</li>
<li>APOSTLE</li>
<li>C-EAGLE/Hydrangea</li>
<li>Illustris</li>
<li>IllustrisTNG</li>
<li>Auriga</li>
<li>MaGICC (and therefore in principle NIHAO)</li>
<li>Magneticum</li>
</ul>
<p>I attempt to support publicly available simulations with a customized source module. If your simulation is public and not supported, please contact me at the address below. Currently custom source modules exist for:</p>
<ul class="simple">
<li>EAGLE (<a class="reference external" href="https://kyleaoman.github.io/martini/build/html/source.html#martini.sources.EAGLESource">martini.sources.EAGLESource</a>)</li>
<li>IllustrisTNG (<a class="reference external" href="https://kyleaoman.github.io/martini/build/html/source.html#martini.sources.TNGSource">martini.sources.TNGSource</a>; also works with Illustris)</li>
<li>Magneticum (<a class="reference external" href="https://kyleaoman.github.io/martini/build/html/source.html#martini.sources.MagneticumSource">martini.sources.MagneticumSource</a>)</li>
</ul>
<p>If your use of MARTINI leads to a publication, please acknowledge this and link to the github page, ideally specifying the version used (git commit ID or version number). Suport available via <a class="reference external" href="mailto:koman&#37;&#52;&#48;astro&#46;rug&#46;nl">koman<span>&#64;</span>astro<span>&#46;</span>rug<span>&#46;</span>nl</a>.</p>
</div>
<div class="section" id="installation-notes">
<h1>Installation Notes<a class="headerlink" href="#installation-notes" title="Permalink to this headline">¶</a></h1>
<p>The easiest way to install martini is from PyPI by doing <code class="docutils literal notranslate"><span class="pre">python3</span> <span class="pre">-m</span> <span class="pre">pip</span> <span class="pre">install</span> <span class="pre">astromartini</span></code>; python2 is not supported. Output to <code class="docutils literal notranslate"><span class="pre">.fits</span></code> files is supported by default; if output to <code class="docutils literal notranslate"><span class="pre">.hdf5</span></code> format is desired use <code class="docutils literal notranslate"><span class="pre">python3</span> <span class="pre">-m</span> <span class="pre">pip</span> <span class="pre">install</span> <span class="pre">astromartini[hdf5_output]</span></code> instead. This will also handle the installation of the required dependencies. However, some optional features require additional dependencies hosted on github, and PyPI does not allow installing these automatically. In particular, EAGLE and Illustris/TNG users who wish to use the custom source modules for those simulations in Martini must install from github (see below) to automatically install the optional dependencies. Or, it is also possible to install from PyPI and then manually install the optional dependencies.</p>
<p>Installation by doing <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">setup.py</span> <span class="pre">install</span></code> is not recommended.</p>
<div class="section" id="installing-from-github">
<h2>Installing from github<a class="headerlink" href="#installing-from-github" title="Permalink to this headline">¶</a></h2>
<p>Choose a <a class="reference external" href="https://github.com/kyleaoman/martini/branches">branch</a>. The numbered branches (e.g. 1.0.X) are stable, while the master branch is actively developed. The latest numbered branch is usually the best choice. From the branch page (e.g. <code class="docutils literal notranslate"><span class="pre">https://github.com/kyleaoman/martini/tree/1.0.X</span></code>), click the green ‘Clone or download’ button and follow instructions to obtain the files. Unpack the zip file if necessary. You should then be able to do <code class="docutils literal notranslate"><span class="pre">python3</span> <span class="pre">-m</span> <span class="pre">pip</span> <span class="pre">install</span> <span class="pre">martini/[optional]</span></code>, where <code class="docutils literal notranslate"><span class="pre">optional</span></code> should be replaced by a comma separated list of optional dependencies. If this fails check that <code class="docutils literal notranslate"><span class="pre">martini/</span></code> is a path pointing to the directory containing the <code class="docutils literal notranslate"><span class="pre">setup.py</span></code> file for Martini. The currently available options are:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">hdf5_output</span></code>: Supports output to hdf5 files via the h5py package. Since h5py is hosted on PyPI, this option may be used when installing via PyPI.</li>
<li><code class="docutils literal notranslate"><span class="pre">eaglesource</span></code>: Dependencies for the <a class="reference external" href="https://kyleaoman.github.io/martini/build/html/source.html#martini.sources.EAGLESource">EAGLESource</a> module, which greatly simplifies reading input from EAGLE simulation snapshots. Installs my <a class="reference external" href="https://github.com/kyleaoman/Hdecompose">Hdecompose</a> package, providing implementations of the <a class="reference external" href="https://ui.adsabs.harvard.edu/abs/2013MNRAS.430.2427R/abstract">Rahmati et al. (2013)</a> method for computing netural hydrogen fractions and the <a class="reference external" href="https://ui.adsabs.harvard.edu/abs/2006ApJ...650..933B/abstract">Blitz &amp; Rosolowsky (2006)</a> method for atomic/molecular fractions. Also installs John Helly’s <a class="reference external" href="https://github.com/jchelly/read_eagle">read_eagle</a> package for quick extraction of particles in a simulation sub-volume. Unfortunately this requires a C compiler which can find an installation of the <a class="reference external" href="https://www.hdfgroup.org/solutions/hdf5/">hdf5</a> libraries.</li>
<li><code class="docutils literal notranslate"><span class="pre">tngsource</span></code>: Dependencies for the <a class="reference external" href="https://kyleaoman.github.io/martini/build/html/source.html#martini.sources.TNGSource">TNGSource</a> module, which greatly simplifies reading input from IllustrisTNG (and original Illustris) snapshots. Installs my <a class="reference external" href="https://github.com/kyleaoman/Hdecompose">Hdecompose</a> package, providing implementations of the <a class="reference external" href="https://ui.adsabs.harvard.edu/abs/2013MNRAS.430.2427R/abstract">Rahmati et al. (2013)</a> method for computing netural hydrogen fractions and the <a class="reference external" href="https://ui.adsabs.harvard.edu/abs/2006ApJ...650..933B/abstract">Blitz &amp; Rosolowsky (2006)</a> method for atomic/molecular fractions.</li>
<li><code class="docutils literal notranslate"><span class="pre">sosource</span></code>: Dependencies for the <a class="reference external" href="https://kyleaoman.github.io/martini/build/html/source.html#martini.sources.SOSource">SOSource</a> module, which provides unofficial support for several simulation datasets hosted on specific systems. This is intended mostly for my own use, but APOSTLE, C-EAGLE/Hydrangea and Auriga users may <a class="reference external" href="mailto:koman&#37;&#52;&#48;astro&#46;rug&#46;nl">contact</a> me for further information.</li>
</ul>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="martini.html" class="btn btn-neutral float-right" title="Martini (martini.Martini)" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral float-left" title="Indices and tables" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Kyle Oman

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>